@model ABC_Retail.ViewModels.ProductViewModel

@{
	ViewData["Title"] = "Manage Product";
}

<head>
	<style>
		.nav-tabs .nav-link {
			border-radius: 0;
			border: 1px solid #dee2e6;
			color: #495057;
			background-color: #f8f9fa;
			transition: background-color 0.3s ease;
		}

			.nav-tabs .nav-link:hover {
				background-color: #e9ecef;
			}

			.nav-tabs .nav-link.active {
				color: #fff;
				background-color: #007bff;
				border-color: #007bff;
			}

		.tab-pane {
			padding: 20px;
			border: 1px solid #dee2e6;
			border-top: none;
			background-color: #fff;
			gap: 90px;
		}

		.btn-primary {
			border-radius: 20px;
		}

		.btn-danger {
			border-radius: 20px;
			background-color: #dc3545;
			transition: background-color 0.3s ease;
		}

			.btn-danger:hover {
				background-color: #c82333;
			}

		.img-thumbnail {
			border-radius: 10px;
			box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
		}
	</style>
</head>

<h1>Manage Product - @Model.Name</h1>

<ul class="nav nav-tabs" id="productTab" role="tablist">
	<li class="nav-item">
		<a class="nav-link active" id="details-tab" data-bs-toggle="tab" href="#details" role="tab" aria-controls="details" aria-selected="true">Details</a>
	</li>
	<li class="nav-item">
		<a class="nav-link" id="edit-tab" data-bs-toggle="tab" href="#edit" role="tab" aria-controls="edit" aria-selected="false">Edit</a>
	</li>
	<li class="nav-item">
		<a class="nav-link" id="delete-tab" data-bs-toggle="tab" href="#delete" role="tab" aria-controls="delete" aria-selected="false">Delete</a>
	</li>
</ul>

<div class="tab-content" id="productTabContent">
	<!-- Details Tab -->
	<div class="tab-pane fade show active" id="details" role="tabpanel" aria-labelledby="details-tab">
		<h3>Details</h3>
		<div class="row">
			<div class="col-md-4">
				<img src="@Model.FileUrl" class="img-fluid" alt="@Model.Name" style="border-radius: 10px;" />
			</div>
			<div class="col-md-8">
				<p><strong>Name:</strong> @Model.Name</p>
				<p><strong>Price:</strong> @Model.Price.ToString("C", new System.Globalization.CultureInfo("en-ZA"))</p>
				<p><strong>Description:</strong> @Model.Description</p>
				<p><strong>Quantity:</strong> @Model.Quantity</p>
			</div>
		</div>
	</div>

    <!-- Edit Tab -->
    <div class="tab-pane fade" id="edit" role="tabpanel" aria-labelledby="edit-tab">
        <h3>Edit</h3>
        <form method="post" enctype="multipart/form-data" action="/Product/Edit">
            <input type="hidden" name="Id" value="@Model.Id" />
            <div class="form-group mb-3">
                <label for="Name">Name</label>
                <input type="text" name="Name" class="form-control" value="@Model.Name" />
            </div>
            <div class="form-group mb-3">
                <label for="Price">Price</label>
                <input type="number" step="0.01" name="Price" class="form-control" value="@Model.Price" />
            </div>
            <div class="form-group mb-3">
                <label for="Description">Description</label>
                <textarea name="Description" class="form-control">@Model.Description</textarea>
            </div>
            <div class="form-group mb-3">
                <label for="Quantity">Quantity</label>
                <input type="number" name="Quantity" class="form-control" value="@Model.Quantity" />
            </div>
            <label for="File">Product Image</label>
            <div class="form-group mb-3" style="display: flex; align-items: center; gap: 20px;">
                @if (!string.IsNullOrEmpty(Model.FileUrl))
                {
                    <img src="@Model.FileUrl" class="img-thumbnail mt-2" style="max-width: 200px;" alt="Current Image" />
                }
                <div style="display: flex; flex-direction: column">
                    <input type="file" name="File" class="form-control-file" />
                </div>
            </div>
            <button type="submit" class="btn btn-primary">Save</button>
        </form>
    </div>

	<!-- Delete Tab -->
	<div class="tab-pane fade" id="delete" role="tabpanel" aria-labelledby="delete-tab">
		<h3>Delete</h3>
		<p>Are you sure you want to delete this product?</p>
		<form method="post" action="/Product/Delete">
			<input type="hidden" name="Id" value="@Model.Id" />
			<button type="submit" class="btn btn-danger">Delete</button>
		</form>
	</div>
</div>